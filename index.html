<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Html Form</title>
    <style>
        form{
            background-color: gainsboro;
            width: 320px;
            height: 320px;
            padding: 10px;
            border-radius: 6px;
        }
        #myButton{
           padding:10px;
           background-color:rgb(23,58,38);
        }
        body{
            padding: 100px;
            background-color:rgb(217,231,226);
            background-repeat: no-repeat;
            background-position-x: 50%;
            background-position-y: 50%;
            background-size: cover;
        }
        h1{
            text-align: left;
        }
        .signin{
            margin: auto;
            background-color: gray;
            max-width: 350px;
            padding: 10px;
            border-radius: 6px;
            font-size: 20px;
            text-align:center;    
        }
        input[type=text]{
            display: inline-block;
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            border-radius: 7px;
            border: .8px solid;
            font-size: 15px;
        }
        button[type=button]{
            width: 100%;
            padding: 10px;
            border-radius: 7px;
            border: none;
            font-size: 20px;
            cursor: pointer;
        }
        .top{
            margin-top: 100px;
        }
   
    </style>
</head>
<body onload="get()">
    <div class="top"></div>
    <div class="loginclass">
        <h1>ProImage</h1>
        <form id="myForm" action="#" class="box">
            <label>Email</label><br>
            <input type="text" placeholder="Enter Email" id="myEmail">
            <br><br>
            <label>Password</label><br>
            <input type="text" placeholder="Enter Password" id="myPassword">
            <br><br>
            <button onclick="checkString()" type="button" id="myButton">Login</button>
            <br><br>
            <p>Don't have an account? <a href="signup.html">Sign up</a></p>
            <a id="savedText">Test</a>

        </form>    
    </div>
    <div class="myloginclass" id="loadClass">

    </div>
    <p id="savedText"></p>
    <p id="openedText"></p>

    <script type="text/javascript">
               console.log(myEmail.value);
        var storedItem = localStorage.getItem("storedItem");

        function save(){
            var Item = document.getElementById("myEmail").value;
            localStorage.setItem("storedItem",Item);
            document.getElementById("savedText").innerHTML = Item + " SAVED";
        }
        function get(){
            localStorage.getItem("storedItem");
            document.getElementById("openedText").innerHTML = Item + " OPENED";
        }

       function checkString(){
            const complexEmailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            
            document.getElementById("savedText").innerHTML = complexEmailRegex.test(myEmail.value);
            
            if(complexEmailRegex.test(myEmail.value)){
                window.location.assign("aPicture.html");
                document.getElementById("savedText").innerHTML = myEmail.value + " VALID";

                var Item = document.getElementbyId("myEmail").value;
                var storedItem = localStorage.getItem("storedItem");
                localStorage.setItem("storedItem",Item);
                document.getElementById("savedText").innerHTML = Item + " SAVED";
                document.getElementById("loadClass").onload("index.html");
            }
            else{
                var Item = document.getElementById("myEmail").value;
                document.getElementById("savedText").innerHTML = Item + " is not valid. Enter valid email.";
            }
        }
    </script>
</body>    
</html>